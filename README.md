# af-component-agent

The agent template provides a set of utilities for constructing a single or multi-agent flow using platforms such
as CrewAI, LangGraph, LlamaIndex, and others. The template is designed to be flexible and extensible, allowing you
to create a wide range of agent-based applications.

The Agent Framework is component from [App Framework Studio](https://github.com/datarobot/app-framework-studio)


* Part of https://datarobot.atlassian.net/wiki/spaces/BOPS/pages/6542032899/App+Framework+-+Studio


## Using component

To start for a repo:

`uvx copier copy https://github.com/datarobot/af-component-agent .`

If a template requires multiple agents, it can be used multiple times with a different answer to the `agent_app` question.

To work, it expects the base component https://github.com/datarobot/af-component-base has already been installed. To do that first, run:

`uvx copier copy https://github.com/datarobot/af-component-base .`


To update

`uvx copier update -a .datarobot/answers/agent-{{ agent_app }}.yml -A`

To update all templates that are copied:

`uvx copier update -a .datarobot/answers/* -A`

or just

`uvx copier update -a .datarobot/*`

## Updating component

Every release of this repository requires updating our customer facing agentic templates [recipe-datarobot-agent-templates](https://github.com/datarobot/recipe-datarobot-agent-templates),
because they are autogenerated out of this component. Therefore, it might be a good idea to test your changes by generating a new agent in a PR to this repository.
The recommended process is:

1. When you have a PR to this repository, clone [recipe-datarobot-agent-templates](https://github.com/datarobot/recipe-datarobot-agent-templates).
2. Make a new branch in it. We recommend using the same name as you PR to `af-component-agent`.
3. In `recipe-datarobot-agent-templates`, do `task update-branch AGENT=agent_generic_base BRANCH=%your-af-component-agent-branch%` (faster) or `task update-all-branch BRANCH=%your-af-component-agent-branch%` (more reliable).
4. Commit your changes to `recipe-datarobot-agent-templates`, push and make a PR to run tests.
5. When the tests in a PR to `recipe-datarobot-agent-templates` are green, your PR to `af-component-agent` can be merged. After that, make a new release [here](https://github.com/datarobot/af-component-agent/releases).
6. Go back to `recipe-datarobot-agent-templates` and run `git reset --hard main`. We don't need a test branch, we need to make it into a prod branch. And when we have a new release in `af-component-agent` we can do that with `task update-all`. Than you do `git push --force` to your existing PR, and merge it on green.
